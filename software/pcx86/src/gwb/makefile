#
# BASIC-DOS Makefile
#
# @author Jeff Parsons <Jeff@pcjs.org>
# @copyright Â© 2012-2020 Jeff Parsons
# @license MIT <https://www.pcjs.org/LICENSE.txt>
#
# This file is part of PCjs, a computer emulation software project at pcjs.org
#
ASM=MASM
LINK=LINK
EXE2BIN=EXE2BIN
AFLAGS=/D$(REL)

.ASM.OBJ:
	$(ASM) $(AFLAGS) $**,$@;

.ASM.LST:
	$(ASM) $(AFLAGS) $**,$@,$*.LST;

GWDATA.OBJ: GWDATA.ASM

GWMAIN.OBJ: GWMAIN.ASM

OEM.OBJ: OEM.ASM

GWEVAL.OBJ: GWEVAL.ASM

GWLIST.OBJ: GWLIST.ASM

IBMRES.OBJ: IBMRES.ASM

BIMISC.OBJ: BIMISC.ASM

DSKCOM.OBJ: DSKCOM.ASM

BIPTRG.OBJ: BIPTRG.ASM

BIPRTU.OBJ: BIPRTU.ASM

BISTRS.OBJ: BISTRS.ASM

FIVEO.OBJ: FIVEO.ASM

GENGRP.OBJ: GENGRP.ASM

ADVGRP.OBJ: ADVGRP.ASM

MACLNG.OBJ: MACLNG.ASM

GWSTS.OBJ: GWSTS.ASM

GIO86.OBJ: GIO86.ASM

GIODSK.OBJ: GIODSK.ASM

GIOKYB.OBJ: GIOKYB.ASM

GIOSCN.OBJ: GIOSCN.ASM

GIOLPT.OBJ: GIOLPT.ASM

GIOCOM.OBJ: GIOCOM.ASM

GIOCON.OBJ: GIOCON.ASM

GIOTBL.OBJ: GIOTBL.ASM

SCNEDT.OBJ: SCNEDT.ASM

SCNDRV.OBJ: SCNDRV.ASM

CALL86.OBJ: CALL86.ASM

NEXT86.OBJ: NEXT86.ASM

MATH.OBJ: MATH.ASM

KANJ86.OBJ: KANJ86.ASM

GIOCAS.OBJ: GIOCAS.ASM

ITSA86.OBJ: ITSA86.ASM

GWRAM.OBJ: GWRAM.ASM

GWINIT.OBJ: GWINIT.ASM

BIBOOT.OBJ: BIBOOT.ASM

GWB.COM: GWDATA.OBJ GWMAIN.OBJ OEM.OBJ GWEVAL.OBJ GWLIST.OBJ IBMRES.OBJ \
	BIMISC.OBJ DSKCOM.OBJ BIPTRG.OBJ BIPRTU.OBJ BISTRS.OBJ FIVEO.OBJ \
	GENGRP.OBJ ADVGRP.OBJ MACLNG.OBJ GWSTS.OBJ GIO86.OBJ GIODSK.OBJ \
	GIOKYB.OBJ GIOSCN.OBJ GIOLPT.OBJ GIOCOM.OBJ GIOCON.OBJ GIOTBL.OBJ \
	SCNEDT.OBJ SCNDRV.OBJ CALL86.OBJ NEXT86.OBJ MATH.OBJ KANJ86.OBJ \
	GIOCAS.OBJ ITSA86.OBJ GWRAM.OBJ GWINIT.OBJ BIBOOT.OBJ
	$(LINK) @$*.LRF
	$(EXE2BIN) $*.EXE $@
	DEL $*.EXE
