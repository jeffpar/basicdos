Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-1
                                                            

                                ; [ This translation created 10-Feb-83 by Versi
				on 4.3 ] 
                                 
 0008                           	.RADIX  8		; To be safe 
                                 
 0000                           CSEG	SEGMENT PUBLIC 'CODESG' 
                                	ASSUME  CS:CSEG 
                                 
                             C  INCLUDE	OEM.INC 
                             C  ; [ This translation created 10-Feb-83 by Versi
				on 4.3 ] 
                             C   
                             C  	PAGE	,132D 
                             C  	SUBTTL  Common file to produce 2-segment 8086 GW-CPM BASIC 
                             C   
                             C  	.SALL 
                             C   
 000A                        C  	.RADIX	10 
 = 0000                      C  	OEMRAM=0D 
                             C  ;Pascal program HFILE searches for the following line - DO NOT MODIFY 
                             C  ;** (VERSION SPECIFIC VALUES) ************************************************ 
 = 0019                      C  	NMLINE=25		;Max screen display text lines 
 = 0001                      C  	NBANKS=1		;Number of graphic planes 
 = 0000                      C  	PALSIZ=0		;Size of OEM color palette 
 = 0000                      C  	DBLCHR=0		;Editor support for KANJI chars 
 = 0000                      C  	KANABS=0		;Kana BASIC (Japanese JIS codes) 
 = 0000                      C  	KANJFN=0		;KANJI String Functions KPOS, KLEN .. 
 = 0000                      C  	JISKTN=0		;&K, &J constants (KANJI) 
 = 0001                      C  	SUPRSH=1		;1=super shift key feature 
 = 000A                      C  	NMKEYF=10		;number of function keys 
 = 000E                      C  	NMKEYT=14		;number of function key traps 
 = 0001                      C  	FKEYON=1		;yes=display function keys 
 = 0001                      C  	SCROLT=1		;Line 25 allocated for status only 
 = 0001                      C  	PLAYSW=1		;for PLAY statement 
 = 0001                      C  	BEEPSW=1		;for SOUND, BEEP statements 
 = 0003                      C  	NMLPT=3			;number of line printers 
 = 0001                      C  	CONSSW=1		;Device CONS: 
 = 0002                      C  	NMCOMT=2		;number of COMmunications ports 
 = 0001                      C  	NMPENT=1		;number of light pens 
 = 0004                      C  	NMSTRT=4		;number of joysticks 
 = 0000                      C  	GWCASS=0		;Cassette switch (CSAVE,CLOAD,MOTOR) 
 = 0001                      C  	IBMLIK=1		;IBM compatibility package 
 = 0001                      C  	IBMTOK=1		;IBM token compatibility 
 = 0001                      C  	DYNCOM=1		;Dynamic communication buffers 
                             C  ;** (END OF VERSION SPECIFIC VALUES) ***************************************** 
                             C  ;Pascal program HFILE searches for the previous line - DO NOT MODIFY 
                             C  ; 
 = 0015                      C  	NUMTRP=NMKEYT+NMCOMT+NMPENT+NMSTRT 
 = 0001                      C  	GW=1			;GW BASIC 
 = 0000                      C  	ESCCTL=0		;Escape Sequence processing in SCROUT 
 = 0000                      C  	GWDBUG=0		;DEBUG statement (TEST VERSIONS ONLY) 
                             C  				; Support is in BINTRP.MAC and GWSTS.MAC 
 = 0000                      C  	SIXDIG=0		;# of digits of accuracy assumed when formatting 
                             C  				;single precision numbers for output. 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-2
Common file to produce 2-segment 8086 GW-CPM BASIC          

                             C  				; 0 := 7 digits 
                             C  				; 1 := 6 digits 
 = 0000                      C  	CASSW=0			;CASSETTE SWITCH 
 = 0001                      C  	LABKEY=1		;^T (LABEL) key capability 
 = 0001                      C  	HGHBIT=1		;8-bit characters (ASCII & Graphics) 
 = 0001                      C  	QUEUE=1			;Queued painting algorithm (vs. stack) 
 = 0001                      C  	GIO86=1			;BASIC-86 Generalized I/O 
 = 0001                      C  	SCRNIO=1		;Screen editor 
 = 0001                      C  	SCRN86=1		;8086 Screen editor 
 = 0001                      C  	I8086=1			;CROSS ASSEMBLING FOR 8086 
 = 0001                      C  	MULSEG=1		;MULTI-SEGMENT 8086 BASIC 
 = 0000                      C  	SMALL=0			;"SMALL" VERSION OF 8086 BASIC IF SET 
 = 0001                      C  	TRUROM=1 
 = 0000                      C  	SBC86=0			;SBC 86/02 BOARD? 
 = 0001                      C  	SHORTJ=1		;USE INTRA-SEGMENT SHORT JUMPS 
                             C  				;IN 8086 CODE 
 = 0001                      C  	LNGVAR=1		;LONG VARIABLE NAME SUPPORT (EXTENDED ONLY) 
 = 0000                      C  	SHTERR=0		;SHORT (2 CHAR) ERROR MESSAGES 
 = 0000                      C  	SHTINS=0		;INSTR IN NON-FAST LEN2 VERSIONS 
 = 0000                      C  	SHTLHM=0		;LEFT HAND SIDE MID IN NON FAST LEN2 VERSIONS 
 = 0000                      C  	SHTCHN=0		;ALLOW CHAIN IN NON-5.0 
 = 0000                      C  	SHTPRO=0		;ALLOW PROTECTED FILES IN NON-FIVDSK 
 = 0000                      C  	SHTLIN=0		;ALLOW LINE INPUT IN NON-EXTENDED NON-FAST 
 = 0000                      C  	SHTREN=0		;ALLOW RENUM IN NON-FST VERSIONS 
 = 0001                      C  	INKEYF=1		;ADDS INKEY$ FUNCTION 
 = 0000                      C  	NOIOS=0			;NO I/O STATMENTS (INP,OUT, WAIT) 
 = 0000                      C  	NOPEKS=0		;NO PEEK, POKE 
 = 0000                      C  	NOUSR=0			;NO USR 
 = 0000                      C  	NOCTLA=0		;NO CONTROL-A IN EXTENDED 
 = 0000                      C  	NORUBT=0		;NO RUBOUT 
 = 0000                      C  	NOROMP=0		;NO ROM PROGRAM FEATURE 
 = 0000                      C  	NOATDL=0		;NO AUTO DELETE IN NON-FAST EXTENDED 
 = 0000                      C  	NODOT=0			;NO DOT IN LEN2 
 = 0000                      C  	NOEDIT=0		;NO EDIT COMMAND 
 = 0000                      C  	CRONLY=0		;ONLY PUT OUT CR, NOT CRLF TO TERMINAL 
                             C  				;AND FILES 
 = 0000                      C  	NONULL=0		;NO NULL COMMAND, PUT OUT NULLS IN CRDO & OUTCH1 
 = 0000                      C  	NOVARP=0		;NO VARPTR FUNCTION 
 = 0001                      C  	FIVEO=1			;GENERATE VERSION WITH RELEASE 5.0 FEATURES 
 = 0001                      C  	FIVMEM=1 
 = 0001                      C  	ANSI=1 
 = 0001                      C  	FIVDSK=1		;5.0 NEW DSK CODE 
 = 0001                      C  	FIVLPT=1		;WIDTH LPRINT AND 255 FEATURE 
 = 0001                      C  	HEXOCT=1		;&H..., HEX$, &O..., OCT$ 
 = 0000                      C  	BINCSW=0		;&B..., BIN$ 
 = 0001                      C  	BLODSW=1		;BLOAD, BSAVE COMMANDS 
 = 0001                      C  	MEMIMG=1		;MEMORY IMAGE FILES 
 = 0001                      C  	GENBIN=1 
                             C   
 = 0000                      C  	TRUANS=0		;TRUE ANSI VERSION (STATIC SCAN, ON ERROR) 
 = 0000                      C  	COMMNT=0		;DONT WANT BIG COMMENT 
 = 0000                      C  	INTEL=0			;INTEL PROPRIETARY 
 = 0000                      C  	INTFSW=0		;INTEL FLOATING POINT 
 = 0000                      C  	INTFHW=0 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-3
Common file to produce 2-segment 8086 GW-CPM BASIC          

 = 0000                      C  	RMX=0			;INTEL RMX VERSION 
 = 0000                      C  	EDIT80=0		;FOR EDIT80 I/O ROUTINES 
 = 0000                      C  	RSHACK=0 
 = 0000                      C  	INTLEC=0 
 = 0002                      C  	LENGTH=2		;  1 MEANS 8K, 2 MEANS 12K 
 = 0000                      C  	BASDEB=0		;WHETHER DBG WILL BE LOADED WITH BASIC 
 = 0001                      C  	RSTLES=1		;WHETHER BASIC WILL USE RST LOCATIONS 
                             C  				;TO MAKE ITSELF SMALLER & QUICKER 
 = 0001                      C  	REALIO=1		;WHETHER SIMULATE (=0) OR ON MACHINE (=1) 
 = 0001                      C  	GENIO=1			;USE G/P ROUTINES 
 = 0001                      C  	CHSEAT=1		;CHSNS eats chars 
 = 0000                      C  	GENDSK=0		;USE G/P DSK CODE 
 = 0000                      C  	LONGI=0			;WHETHER WE ASK "TERMINAL WIDTH?" 
                             C  				;AND WANT SIN-TAN-COS-ATN? 
 = 0000                      C  	INSTSW=0		;FOR INSTR INSTRUCTION 
 = 0001                      C  	SWAPSW=1		;FOR SWAP STATEMENT 
 = 0000                      C  	MDS=0			;FOR INTEL MDS SYSTEMS 
 = 0000                      C  	SBC=0			;FOR INTEL SINGLE BOARD COMPUTER 
                             C  				;1=SBC 80/10, 2=SBC 80/20 
 = 0001                      C  	PURE=1			;ON FOR PURE CODE 
 = 0000                      C  	KILLER=0		;FOR ROM VERSION THAT WONT RUN IN RAM 
 = 0000                      C  	INTROM=0 
 = 0001                      C  	LPTSW=1 
 = 0001                      C  	NCRLPT=1 
 = 0000                      C  	NCRCAS=0 
 = 0000                      C  	ISC=0			;FOR ISC VERSION 
 = 0000                      C  	LPT3=0			;THREE LPT DRIVER VERSION(QUME,OKIA,CENT) 
 = 0000                      C  	TSLPT=0 
                             C   
 = 0000                      C  	DOS=0			;ON TO GEN ROUTINES FOR DOS 
 = 0001                      C  	DISK=1			;FILE I/O FEATURES 
 = 0000                      C  	TIMSHR=0		;NO TIME-SHARING DISK 
 = 0000                      C  	TSDISK=0		;NO TIME-SHARING DISK FOR US 
 = 0000                      C  	SPCDSK=0		;MAY HAVE MM'S DISK CODE 
 = 0000                      C  	SPCNDS=0 
 = 0001                      C  	FAST=1			;CONSTANT COMPRESSION, RENUM & FRIENDS 
 = 0000                      C  	KEYSTA=0 
 = 0000                      C  	ISIS=0			;FOR VERSION TO RUN UNDER INTEL'S ISIS II DOS 
 = 0000                      C  	MDSISS=0		;FOR MDS VERSION THAT RUNS UNDER ISIS-II 
 = 0001                      C  	CPM=1			;FOR CPM compatible operating systems 
 = 0001                      C  	CPM2=1			;VERSION 2. CPM 
 = 0000                      C  	CPM86=0			;FOR CP/M-86 operating system 
 = 0001                      C  	SCP=1			;MS-DOS operating system 
 = 0000                      C  	CPMCON=0 
 = 0000                      C  	CPMSER=0		;CHECK CPM SERIAL #'S 
 = 0000                      C  	CPMADD=0		;FOR VERSION TO RUN ON ADDS CPM 
 = 0000                      C  	CPMA75=0		;FOR VERSION TO RUN ON ADDS SYSTEM 75 
                             C  				;CP/M 
 = 0000                      C  	CPMRSH=0		;FOR RADIO SHACK CPM/M 
 = 0000                      C  	CPM110=0		;FOR CP/M @1100 HEX (INTERALIA) 
 = 0000                      C  	CPMSBC=0		;FOR VERSION TO RUN ON SBC CP/M AT 4100H 
 = 0000                      C  	CPMPER=0		;FOR PERTEC VERSION OF CPM 
 = 0000                      C  	CPMLIF=0		;LIFEBOAT CP/M AT 4200H 
 = 0000                      C  	CPMMDS=0		;MOHAWK DATA SYSTEMS CP/M 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-4
Common file to produce 2-segment 8086 GW-CPM BASIC          

 = 0000                      C  	CPMCON=0 
 = 0000                      C  	Z80=0 
 = 0001                      C  	DISK=1 
 = 0001                      C  	NCRLPT=1 
 = 0001                      C  	RSTLES=1 
 = 0000                      C  	DRVPOS=CPMADD 
 = 0000                      C  	TRNCHR=CPMADD 
 = 0000                      C  	INLADD=CPMADD 
 = 0001                      C  	LISTEN=1		;ON MEANS LISTEN FOR ^C 
 = 0001                      C  	LISTEN=1 
 = 0000                      C  	LEN2=0 
 = 0001                      C  	LEN2=1 
 = 0001                      C  	HEXOCT=1 
 = 0002                      C  	LENGTH=2 
 = 0001                      C  	RSTLES=1 
 = 0001                      C  	FIVLPT=1 
 = 0000                      C  	I8251=0			;THIS SWITCH IS USED FOR ROSEMOUNT VERSION 
 = 0001                      C  	CONTRO=1		;ALLOW ^O 
 = 0001                      C  	LEN3=LEN2 OR CASSW 
                             C   
                             C   
                             C   
 = 0001                      C  	STRING=1 
 = 0001                      C  	NCRLPT=1 
                             C   
                             C  ; *** OEM Switches which need to be defaulted to 0 
                             C  ; 
 = 0000                      C  	CMPUTN=0 
 = 0000                      C  	DUPONT=0 
 = 0000                      C  	EXIDY=0 
 = 0000                      C  	GESBC=0 
 = 0000                      C  	HEATH=0 
 = 0000                      C  	LOKHED=0 
 = 0000                      C  	MOSTEK=0 
 = 0000                      C  	TEK=0 
 = 0000                      C  	TRSER2=0 
 = 0000                      C  	NASCOM=0 
 = 0000                      C  	NATROM=0 
 = 0000                      C  	NCRBAS=0 
 = 0000                      C  	NCRDEB=0 
 = 0000                      C  	NCRDEB=0 
 = 0000                      C  	NCRELS=0 
 = 0000                      C  	ONTEL=0 
 = 0000                      C  	PCS=0 
 = 0000                      C  	SGSATS=0 
 = 0000                      C  	ALTAIR=0 
 = 0000                      C  	DMC=0 
 = 0000                      C  	PANBAS=0 
 = 0000                      C  	XTNSYS=0 
 = 0000                      C  	NECBAS=0 
                             C  ;******************************************************************* 
                             C  ; Z80 related macros 
                             C  ;******************************************************************* 
 = 0001                      C  	Z80=1			;FOR VERSION THAT RUNS ON BOTH 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-5
Common file to produce 2-segment 8086 GW-CPM BASIC          

                             C  				;8080'S AND ZILOG Z-80'S 
 = 0001                      C  	Z80MAC=1		;USE 8080 MACROS INSTEAD OF Z80 INSTRUCTIONS 
 = 0000                      C  	Z80=0 
 = 0001                      C  	Z80=1 
                             C  LDIR	MACRO 
                             C  	MOV	WORD PTR A,WORD PTR M 
                             C  	STAX	D 
                             C  	INXF	H 
                             C  	INXF	D 
                             C  	DCXF	B 
                             C  	MOV	WORD PTR A,WORD PTR B 
                             C  	ORA	C 
                             C  	JNZ	_-8D 
                             C  ENDM 
                             C  LDDR	MACRO 
                             C  	MOV	WORD PTR A,WORD PTR M 
                             C  	STAX	D 
                             C  	DCXF	H 
                             C  	DCXF	D 
                             C  	DCXF	B 
                             C  	MOV	WORD PTR A,WORD PTR B 
                             C  	ORA	C 
                             C  	JNZ	_-8D 
                             C  ENDM 
                             C  DJNZ	MACRO	    DEST 
                             C  	DCR	B 
                             C  	JNZ	DEST 
                             C  ENDM 
                             C  ;******************************************************************* 
                             C  ; Define reset routines. 
                             C  ;******************************************************************* 
                             C  FSIGN	MACRO 
                             C  	CALL	SIGN 
                             C  ENDM 
                             C  PUSHM	MACRO 
                             C  	MOV	WORD PTR C,WORD PTR M 
                             C  	INX	H 
                             C  	MOV	WORD PTR B,WORD PTR M 
                             C  	INX	H 
                             C  	PUSH	WORD PTR B 
                             C  ENDM 
                             C  SYNCHK	MACRO	X 
                             C  	CALL	SYNCHR 
                             C  	DB	OFFSET X 
                             C  ENDM 
                             C  OUTCHR	MACRO 
                             C  	CALL	OUTDO 
                             C  ENDM 
                             C  CHRGET	MACRO 
                             C  	CALL	CHRGTR 
                             C  ENDM 
                             C  COMPAR	MACRO 
                             C  	CALL	DCOMPR 
                             C  ENDM 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-6
Common file to produce 2-segment 8086 GW-CPM BASIC          

                             C  GETYPE	MACRO 
                             C  	CALL	GETYPR 
                             C  ENDM 
                             C  COMPAR	MACRO 
                             C  	DB	73O 
                             C  	DB	332O 
                             C   ENDM 
                             C  ACRLF	MACRO 
                             C  	DB	13D 
                             C  	DB	10D 
                             C  ENDM 
                             C  PUSHR	MACRO 
                             C  	PUSH	WORD PTR D 
                             C  	PUSH	WORD PTR B 
                             C  ENDM 
                             C  POPR	MACRO 
                             C  	POP	WORD PTR B 
                             C  	POP	WORD PTR D 
                             C  ENDM 
                             C  MOVRI	MACRO	B,C,D,E 
                             C  	DB	1O		; "LXI  B" 
                             C  	DB	OFFSET C 
                             C  	DB	OFFSET B 
                             C  	DB	21O		; "LXI  D" 
                             C  	DB	OFFSET E 
                             C  	DB	OFFSET D 
                             C  ENDM 
                             C  INST	MACRO	X 
                             C  	DB	OX 
                             C  ENDM 
                             C   
                             C   
 = 000F                      C  	CONTO=15		;CHARACTER TO SUPRESS OUTPUT (USUALLY CONTROL-O) 
 = 0000                      C  	DBLTRN=0		;FOR DOUBLE PRECISION TRANSCENDENTALS 
                             C   
 = 000E                      C  	CLMWID=14D		;MAKE COMMA COLUMNS FOURTEEN CHARACTERS 
 = 0080                      C  	DATPSC=128D		;NUMBER OF DATA BYTES IN DISK SECTOR 
 = 0050                      C  	LINLN=80D		;TERMINAL LINE LENGTH 
 = 0084                      C  	LPTLEN=132D 
 = 00FF                      C  	BUFLEN=255		;LONG LINES 
 = 0028                      C  	NAMLEN=40D		;MAXIMUM LENGTH NAME -- 3 TO 127 
                             C   
 = 006E                      C  	NUMLEV=110D		;NUMBER OF STACK LEVELS RESERVED 
                             C  				;BY AN EXPLICIT CALL TO GETSTK 
 = 0004                      C  	STRSIZ=4 
 = 0003                      C  	STRSIZ=3 
 = 0003                      C  	NUMTMP=3		;NUMBER OF STRING TEMPORARIES 
 = 000A                      C  	NUMTMP=10 
                             C   
 0008                        C  	.RADIX	8 
                             C  ; 
                             C  ; Useful macros 
                             C  ; 
                             C   
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-7
Common file to produce 2-segment 8086 GW-CPM BASIC          

                             C  ACRLF   MACRO 
                             C          DB      13D 
                             C          DB      10D 
                             C  ENDM 
                             C   
                             C  INS86   MACRO   A,B,C,D 
                             C          DB      A&O 
                             C  IFNB    <B> 
                             C          DB      B&O 
                             C  ENDIF 
                             C  IFNB    <D> 
                             C          DB      C&O 
                             C          DB      D&O 
                             C  ENDIF 
                             C  IFB     <D> 
                             C   IFNB   <C> 
                             C          DW      C 
                             C    ENDIF 
                             C   ENDIF 
                             C  ENDM 
                             C   
                             C  CALLOS  MACRO 
                             C          CALL    CPMENT 
                             C  ENDM 
                             C   
                             C  POPR    MACRO 
                             C          POP     CX 
                             C          POP     DX 
                             C  ENDM 
                             C   
                             C  ADR     MACRO   X 
                             C          DW      X 
                             C  ENDM 
                             C   
                             C  DC      MACRO   ARG 
                             C          IRPC    ZZ,<ARG> 
                             C              IFDIF       <ZZ>,<">
                             C                  DB      "&ZZ&" 
                             C                  _A="&ZZ&" 
                             C              ENDIF 
                             C          ENDM 
                             C  ENDM 
                             C  ; 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-8
Common file to produce 2-segment 8086 GW-CPM BASIC          

                             C          PAGE 
                             C   
                             C  DBGBRK	MACRO 
                             C  	DB	0CDh,06h,0CCh 
                             C  	ENDM 
                                 
                                 
                                	TITLE   GIOLPT - Line Printer Machine Independent Device Driver Code 
                                 
                                COMMENT	* 
                                 
                                --------- --- ---- -- --------- 
                                COPYRIGHT (C) 1982 BY MICROSOFT 
                                --------- --- ---- -- --------- 
                                 
                                	* 
                             C  	INCLUDE	GIO86U.INC 
                             C  ; [ This translation created 12-Jan-83 by Version 4.3 ] 
                             C   
                             C  	SUBTTL GIO86U - Device Independent I/O Constants and Macros 
                             C   
                             C  COMMENT	* 
                             C   
                             C  --------- --- ---- -- --------- 
                             C  COPYRIGHT (C) 1982 BY MICROSOFT 
                             C  --------- --- ---- -- --------- 
                             C   
                             C          Programmer: Tom Corbett,  Microsoft Inc. 
                             C   
                             C          * 
                             C   
                             C  ROFFST	MACRO	NAME,SIZE	;define record macro 
                             C  	NAME=_OFFST 
                             C  	_OFFST=_OFFST+SIZE 
                             C  ENDM  
                             C   
                             C   
                             C  ;ASCII character definitions 
                             C  ; 
 = 0003                      C  	ASCCTC=3D		;CTL-C 
 = 0008                      C  	ASCBS=8D		;backspace 
 = 0009                      C  	ASCTAB=9D		;Tab 
 = 000A                      C  	ASCLF=10D		;Line Feed 
 = 000D                      C  	ASCCR=13D		;Carriage Return 
 = 0013                      C  	ASCCTS=19D		;CTL-S 
 = 001A                      C  	ASCCTZ=26D		;Control Z (End-of-file for some devices) 
 = 001B                      C  	ASCESC=27D		;Escape 
 = 0020                      C  	ASCSPC=32D		;Space 
                             C   
                             C  ;Special File ID's (identified by 1st byte of file) 
                             C  ; 
 = 00FF                      C  	BINFID=255D		;files created by SAVE "fn" 
 = 00FE                      C  	PROFID=254D		;files created by SAVE "fn",P 
 = 00FD                      C  	BSVFID=253D		;files created by BSAVE "fn" 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-9
GIO86U - Device Independent I/O Constants and Macros        

                             C   
                             C  ;Generalized I/O Function Codes: 
                             C  ; 
 = 0000                      C  	_OFFST=0		;initialize count 
                             C  	ROFFST	G_EOF,2		;test EOF for file opened to this device 
                             C  	ROFFST	G_LOC,2		;LOC 
                             C  	ROFFST	G_LOF,2		;LOF 
                             C  	ROFFST	G_CLS,2		;perform special CLOSE functions for this device 
                             C  	ROFFST	G_SWD,2		;set device width 
                             C  	ROFFST	G_RND,2		;GET/PUT random record from/to this device 
                             C  	ROFFST	G_OPN,2		;perform special OPEN functions for this device 
                             C  	ROFFST	G_SIN,2		;input 1 byte from file opened on this device 
                             C  	ROFFST	G_SOT,2		;output 1 byte to file opened on this device 
                             C  	ROFFST	G_GPS,2		;POS 
                             C  	ROFFST	G_GWD,2		;get device width 
                             C  	ROFFST	G_SCW,2		;set device column width 
                             C  	ROFFST	G_GCW,2		;get device column width 
                             C  	ROFFST	G_BIN,2		;block input from file opened on this device 
                             C  	ROFFST	G_BOT,2		;block output to file opened on this device 
                             C   
                             C   
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-10
GIO86U - Device Independent I/O Constants and Macros        

                             C          PAGE 
                                 
                                	.SALL 
                                 
 = 0000                         MELCO=0 
 = 0000                         TETRA=0 
 = 0000                         ZENITH=0 
 = 0000                         CPM86=0 
                             C  	INCLUDE	MSDOSU.INC 
                             C  ; [ This translation created 12-Jan-83 by Version 4.3 ] 
                             C   
                             C  	SUBTTL    MSDOSU - MS-DOS Constants and Data-Structure Definitions 
                             C   
                             C  COMMENT	* 
                             C   
                             C  --------- --- ---- -- --------- 
                             C  COPYRIGHT (C) 1982 BY MICROSOFT 
                             C  --------- --- ---- -- --------- 
                             C   
                             C  	Programmer: Tom Corbett,  Microsoft Inc. 
                             C   
                             C  	* 
                             C   
                             C  CALLOS	MACRO	FUNC 
                             C  IFNB	<FUNC>   
                             C  	MOV	AH,LOW OFFSET FUNC 
                             C  ENDIF  
                             C  	INT	33D		;MSDOS system call 
                             C  ENDM  
                             C   
                             C  ROFFST	MACRO	NAME,SIZE	;define record macro 
                             C  	NAME=_OFFST 
                             C  	_OFFST=_OFFST+SIZE 
                             C  ENDM  
                             C   
                             C   
                             C  ; MSDOS System Call codes 
                             C  ; 
 = 0005                      C  	C_PRTO=5D		;Printer output 
 = 0006                      C  	C_DCIO=6D		;Direct console I/O 
 = 000D                      C  	C_REST=13D		;INITIALIZE BDOS 
 = 000E                      C  	C_SDRV=14D		;SET CURRENTLY SELECTED DRIVE 
 = 000F                      C  	C_OPEN=15D 
 = 0010                      C  	C_CLOS=16D 
 = 0011                      C  	C_SEAR=17D		;SEARCH FOR FILE 
 = 0013                      C  	C_DELE=19D 
 = 0014                      C  	C_READ=20D 
 = 0016                      C  	C_MAKE=22D 
 = 0017                      C  	C_RENA=23D 
 = 0019                      C  	C_GDRV=25D		;GET CURRENTLY SELECTED DRIVE 
 = 001A                      C  	C_BUFF=26D		;SET DMA ADDRESS 
 = 0021                      C  	C_RNDR=33D		;Random read 
 = 0022                      C  	C_RNDW=34D		;Random write 
 = 0027                      C  	C_RBR=39D		;Random Block Read 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-11
MSDOSU - MS-DOS Constants and Data-Structure Definitions    

 = 0029                      C  	C_PARS=41D		;Parse Filename 
                             C   
 = 000B                      C  	FNAML=11D		;number of bytes in Filename with extension 
 = 0080                      C  	DATPSC=128D		;bytes per sector 
 = 0026                      C  	FCBSIZ=38D		;File Control Block size 
                             C   
                             C  ;MS-DOS FILE-DATA-BLOCK Record Definition 
                             C  ; 
 = 0000                      C  	_OFFST=0		;initialize count 
                             C  	ROFFST	F_NUL1,1	;not used by basic interpreter 
                             C  	ROFFST	F_NUM,1		;file number 0..255 
                             C  	ROFFST	F_NUL2,2	;not used by basic interpreter 
                             C  	ROFFST	F_NEXT,2	;thread for linked list, [MEMSIZ]=end 
                             C  	ROFFST	F_MODE,1	;file mode: 
 = 0001                      C  	MD_SQI=1D		;sequential input 
 = 0002                      C  	MD_SQO=2D		;sequential output 
 = 0004                      C  	MD_RND=4D		;random 
 = 0008                      C  	MD_APP=8D		;append 
                             C  	ROFFST	F_FCB,FCBSIZ	;File Control Block: used to communicate with OS 
                             C  	ROFFST	F_CLOC,2	;for seq files: num sectors read/written   (LOCOFS) 
                             C  				;for rnd files: last record number + 1 
                             C  	ROFFST	F_ORCT,1	;"Original Byte Count"                     (ORNOFS) 
                             C  				;for seq input: #bytes in sector when read 
                             C  				;for seq output: #bytes in output sector 
                             C  				;for random files: bytes per sector 
                             C  	ROFFST	F_BREM,1	;number of bytes till end-of-buffer        (NMLOFS) 
                             C  	ROFFST	F_CODE,1	;file encoding: 
 = 0000                      C  	FC_ASC=0		;Ascii SAVE, Data files 
 = 0001                      C  	FC_BIN=1		;binary file (BSAVE, binary SAVE) 
                             C  	ROFFST	F_BAKC,1	;holds next sequential input when F.FLBS.FL.BKC is true 
                             C  	ROFFST	F_NUL3,1	;not used by basic interpreter 
                             C  	ROFFST	F_DEV,1		;Device number                             (FL.DSK) 
                             C  	ROFFST	F_WID,1		;File width 
                             C  	ROFFST	F_NUL4,1	;not used by basic interpreter 
                             C  	ROFFST	F_FLGS,1	;flags 
 = 0080                      C  	FL_BKC=200O		;when true, F.BAKC contains next sequential input 
                             C  	ROFFST	F_POS,1		;Current column position                   (FL.OPS) 
                             C  	ROFFST	FDBSIZ,0	;size of device independent part of FDB 
                             C  				;device dependant FDB entries start here 
                             C   
                             C  	ROFFST	DATOFS,DATPSC	;Operating System interface buffer 
                             C  	ROFFST	FD_SIZ,2	;variable record length for random files 
                             C  	ROFFST	FD_PHY,2	;current physical record number 
                             C  	ROFFST	FD_LOG,2	;current logical record number 
                             C  	ROFFST	F_NUL5,1	;Future use 
                             C  	ROFFST	FD_OPS,2	;current output position for sequential I/O 
                             C  	ROFFST	FD_DAT,0	;field buffer of random file 
                             C   
                             C  ; OFFSETS INTO MSDOS FCB 
                             C  ; 
 = 0007                      C  	FCB_DV=F_FCB+0D		;DRIVE (0=default, 1=A:, 2=B:, ...) 
 = 0008                      C  	FCB_FN=F_FCB+1D		;FILE NAME 
 = 0010                      C  	FCB_FT=F_FCB+9D		;EXTENSION 
 = 0013                      C  	FCB_EX=F_FCB+12D	;FILE EXTENT (identifies block of 128 logical records) 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-12
MSDOSU - MS-DOS Constants and Data-Structure Definitions    

 = 0015                      C  	FCB_RC=F_FCB+14D	;RECORD SIZE 
 = 0017                      C  	FCB_FS=F_FCB+16D	;FILE SIZE IN BYTES 
 = 001B                      C  	FCB_DT=F_FCB+20D	;Date of last write to file 
 = 001D                      C  	FCB_DT=F_FCB+22D	;Time of last write to file 
 = 0027                      C  	FCB_NR=F_FCB+32D	;NEXT RECORD NUMBER 
 = 0028                      C  	FCB_RN=F_FCB+33D	;CP/M 2.x Random Record Number 
                             C   
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-13
MSDOSU - MS-DOS Constants and Data-Structure Definitions    

                             C          PAGE 
                                 
                                 
                                ;OEM Switches 
                                ; 
                                 
                                	PUBLIC	LPTDSP,LPTINI,LPTTRM 
                                	EXTRN	DERBFM:NEAR,INIFDB:NEAR,UPDPOS:NEAR,$_LPT1:NEAR 
                                	EXTRN	DEVBOT:NEAR,DEVBIN:NEAR 
                                 
                                ;Line Printer Dispatch Table 
                                ; 
 0000                           LPTDSP: 
 0000  0000 E                   	DW	(DERBFM)	;test EOF for file opened to this device 
 0002  0000 E                   	DW	(DERBFM)	;LOC 
 0004  0000 E                   	DW	(DERBFM)	;LOF 
 0006  0030 R                   	DW	(LPTCLS)	;perform special CLOSE functions for this device 
 0008  0031 R                   	DW	(LPTSWD)	;set device width 
 000A  0000 E                   	DW	(DERBFM)	;GET/PUT random record from/to this device 
 000C  0037 R                   	DW	(LPTOPN)	;perform special OPEN functions for this device 
 000E  0000 E                   	DW	(DERBFM)	;input 1 byte from file opened on this device 
 0010  0075 R                   	DW	(LPTSOT)	;output 1 byte to file opened on this device 
 0012  0111 R                   	DW	(LPTGPS)	;POS 
 0014  0118 R                   	DW	(LPTGWD)	;get device width 
 0016  011E R                   	DW	(LPTSCW)	;set device comma width 
 0018  011F R                   	DW	(LPTGCW)	;get device comma width 
 001A  0000 E                   	DW	(DEVBIN)	;block input from file opened on this device 
 001C  0000 E                   	DW	(DEVBOT)	;block output to file opened on this device 
                                 
 001E  C3                       LPTTRM:	RET 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-14
MSDOSU - MS-DOS Constants and Data-Structure Definitions    

                                	PAGE 
                                	SUBTTL Line Printer Primitive I/O Routines 
                                 
 0000                           DSEG	SEGMENT PUBLIC 'DATASG' 
                                	ASSUME DS:DSEG 
                                	EXTRN	LP1DCB:WORD 
 0000                           DSEG	ENDS 
                                 
                                ;LPT Device Control Block field definitions: 
                                ; 
 = 0000                         	_LPWID=0		;device width (columns per line) 
 = 0001                         	_LPPOS=1		;current column device is in 
 = 0002                         	_LPFLG=2		;Boolean attributes mask for this device 
 = 0001                         	_LPCRF=1		;non-zero=last char sent was Carriage Return 
                                 
                                ;LPTINI - called during BASIC initialization 
                                ; Entry - DI = -2*device id 
                                ; 
 001F  57                       LPTINI:	PUSH	DI 
 0020  E8 0120 R                	CALL	GLPDCB		;DI points to device control block 
 0023  C6 05 50                 	MOV	BYTE PTR _LPWID[DI],LOW 80D	;default width = 80 chars / line 
 0026  C6 45 01 00              	MOV	BYTE PTR _LPPOS[DI],LOW 0	;initial position = 0 
 002A  C6 45 02 00              	MOV	BYTE PTR _LPFLG[DI],LOW 0	;reset device Flags 
 002E  5F                       	POP	DI 
 002F  C3                       	RET 
                                 
                                ;LPTCLS - perform any device dependent close functions. 
                                ; Entry - SI points to File-Data-Block. 
                                ;         DI = -2*device id 
                                ; Exit  - All registers preserved. 
                                ;         This routine is called before BASIC releases the 
                                ;         file-data-block associated with this file. 
                                ; 
 0030  C3                       LPTCLS:	RET 
                                 
                                ;LPTSWD - set device width 
                                ; Entry - [DX] = new device width 
                                ;         DI = -2*device id 
                                ; 
 0031                           LPTSWD: 
 0031  E8 0120 R                	CALL	GLPDCB		;DI points to device control block 
 0034  88 15                    	MOV	BYTE PTR _LPWID[DI],DL 
 0036  C3                       	RET 
                                 
                                	EXTRN	DERIFN:NEAR,SCDBIN:NEAR 
 0000                           DSEG	SEGMENT PUBLIC 'DATASG' 
                                	EXTRN	FILOPT:WORD 
 0000                           DSEG	ENDS 
                                 
                                ;LPTOPN - perform any device dependent open functions. 
                                ; Entry - [AL]=  device id 
                                ;                0 if default device, 
                                ;                1..n for Disk A:, B:, ... 
                                ;                -1..-n for non-disk devices 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-15
Line Printer Primitive I/O Routines                         

                                ;         [BX] = file number (0..n) 
                                ;         [CX] = random record size if [FILMOD] = random 
                                ;                (if [CX] = 0, use default record size) 
                                ;         [DI] = device offset (2=LPTD, 4=SCRN, etc.) 
                                ;         [FILMOD] = file mode (one of the following) 
                                ;                    MD.SQI     ;sequential input 
                                ;                    MD.SQO     ;sequential output 
                                ;                    MD.RND     ;random 
                                ;                    MD.APP     ;append 
                                ;         [FILNAM] = filename 
                                ;         [FILEXT] = 1..3 byte filename extension 
                                ; Exit  - [SI] points to new FDB 
                                ;         FDB is linked into FDB chain with all standard 
                                ;         fields initialized. 
                                ;         All other registers are preserved. 
                                ; 
 0037  50                       LPTOPN:	PUSH	AX		;save device id for INIFDB 
 0038  E8 0120 R                	CALL	GLPDCB		;DI points to device control block 
 003B  BE 0000 E                	MOV	SI,OFFSET FILOPT	;SI points to options string 
 003E  B4 DF                    	MOV	AH,LOW 337O	;0DFH - Mask for mapping lower to upper case 
 0040  FC                       	CLD			;use Post-Increment addressing 
 0041  AC                       	LODSB			;[AL]=1st byte of option string 
 0042  22 C4                    	AND	AL,AH		;Map Lower to Upper Case (turn off b6) 
 0044  9C                       	PUSHF			;remember if BIN option was selected 
 0045  74 17                    	JE	NOOPT		;branch if no option specified 
 0047  3C 42                    	CMP	AL,LOW "B" 
 0049  75 27                    	JNE	IFNERR		;Bad File Name error if option not BIN 
 004B  AC                       	LODSB			;[AL]=next byte of option string 
 004C  22 C4                    	AND	AL,AH		;Map Lower Case to Upper Case 
 004E  3C 49                    	CMP	AL,LOW "I" 
 0050  75 20                    	JNE	IFNERR		;Bad File Name error if option not BIN 
 0052  AC                       	LODSB			;[AL]=next byte of option string 
 0053  22 C4                    	AND	AL,AH		;Map Lower Case to Upper Case 
 0055  3C 4E                    	CMP	AL,LOW "N" 
 0057  75 19                    	JNE	IFNERR		;Bad File Name error if option not BIN 
 0059  AC                       	LODSB			;[AL]=next byte of option string 
 005A  0A C0                    	OR	AL,AL 
 005C  75 14                    	JNE	IFNERR		;Error if not end of options 
 005E                           NOOPT: 
 005E  8A 75 01                 	MOV	DH,BYTE PTR _LPPOS[DI]	;initial file column position 
 0061  8A 15                    	MOV	DL,BYTE PTR _LPWID[DI]	;initial file width 
 0063  9D                       	POPF 
 0064  58                       	POP	AX		;[AL]=device id 
 0065  9C                       	PUSHF			;remember if BIN option was selected 
 0066  B4 06                    	MOV	AH,LOW OFFSET MD_SQO OR MD_RND	;allow open for output/random 
 0068  E8 0000 E                	CALL	INIFDB 
 006B  9D                       	POPF 
 006C  74 03                    	JE	NOBIN		;branch if BIN option was not selected 
 006E  E8 0000 E                	CALL	SCDBIN		;set BINARY file mode 
 0071                           NOBIN: 
 0071  C3                       	RET 
                                 
 0072  E9 0000 E                IFNERR:	JMP	DERIFN		;"illegal filename" error 
                                 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-16
Line Printer Primitive I/O Routines                         

                                ;LPTSOT - Sequential Output. 
                                ; Entry - SI points to File-Data-Block.  0 if Pseudo FDB (for LLIST/LPRINT) 
                                ;         DI = -2*device id 
                                ;         [AL] = byte to be output. 
                                ; Exit  - SI, DI can be changed. 
                                ;         All other registers preserved 
                                ;         This routine keeps track of column position, 
                                ;         expands tabs, and forces a carriage return when line width 
                                ;         is exceeded. 
                                ; 
 0075  53                       LPTSOT:	PUSH	BX		;save caller's BX 
 0076  50                       	PUSH	AX		;save char to be output 
 0077  E8 0120 R                	CALL	GLPDCB		;DI points to line printer DCB 
 007A  8A D8                    	MOV	BL,AL		;[BL] = device id 
 007C  58                       	POP	AX		;[AL] = byte to be output 
 007D  8A E3                    	MOV	AH,BL		;[AH] = device id 
 007F  5B                       	POP	BX		;restore caller's BX 
 0080  0B F6                    	OR	SI,SI 
 0082  74 06                    	JZ	NOTBIN		;branch if not binary mode 
 0084  80 7C 31 01              	CMP	BYTE PTR F_CODE[SI],LOW OFFSET FC_BIN 
 0088  74 4B                    	JE	LPROUT		;if binary, branch to Raw-Output routine 
 008A  53                       NOTBIN:	PUSH	BX 
 008B  52                       	PUSH	DX 
 008C  8B 15                    	MOV	DX,WORD PTR _LPWID[DI]	;[DL]=device width, [DH]=current column 
 008E  BB 009F R                	MOV	BX,OFFSET LPOUT1	;BX points to Raw Output Routine 
 0091  74 03                    	JZ	PSDFDB		;branch if Pseudo FDB (LLIST/LPRINT) 
                                				;*** CAREFUL *** FLAGS must be preserved 
                                				; from OR SI,SI Above. 
 0093  8A 54 35                 	MOV	DL,BYTE PTR F_WID[SI]	;Get width from FDB 
 0096                           PSDFDB: 
                                	EXTRN	CRIFEL:NEAR 
 0096  E8 0000 E                	CALL	CRIFEL		;force CR if End-Of-Line 
 0099  88 75 01                 	MOV	BYTE PTR _LPPOS[DI],DH	;save new column position 
 009C  5A                       	POP	DX 
 009D  5B                       	POP	BX 
 009E  C3                       	RET 
                                 
                                ;Low-Level Line Printer Output (updates column position) 
                                ;For IBM Compatibility, the following filter performs the following translations 
                                ;    x x x CR x x x    === x x x CR LF x x x 
                                ;    x x x CR LF x x x === x x x CR LF x x x 
                                ;If LPT was opened for RANDOM mode, and WIDTH=255, then suppress LF which 
                                ;   follow carriage returns for IBM compatibility. 
                                ; 
                                ; Eat all LineFeeds which follow CarriageReturns with following algorithm: 
                                ; if (Char <> LF) or (LastWasCR = 0) then output (Char) 
                                ; if (Char = CR) then 
                                ;    Begin 
                                ;    LastWasCR = 1 
                                ;    if FDB.MODE<>RANDOM or FDB.WIDTH<>255 then 
                                ;       output(LF) 
                                ;    End 
                                ; else 
                                ;    LastWasCR = 0 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-17
Line Printer Primitive I/O Routines                         

                                ; 
                                ; The only case where this is not compatible with IBM is when the user executes: 
                                ; PRINT CHR$(13);CHR$(10);... 
                                ; 
                                ; The best way this could have been done was by setting CRONLY=1 in the 
                                ; switch files and letting the device drivers append Line-Feeds if necessary. 
                                ; It was considered too late to make a change this drastic 
                                ; 
 009F  E8 0000 E                LPOUT1:	CALL	UPDPOS		;[DH]=new column position(AL, DH) 
 00A2  50                       	PUSH	AX		;save character to be output 
 00A3  3C 0A                    	CMP	AL,LOW OFFSET ASCLF 
 00A5  75 06                    	JNE	LPOUT2		;branch if not attempting to output LF 
 00A7  F6 45 02 01              	TEST	BYTE PTR _LPFLG[DI],LOW OFFSET _LPCRF 
 00AB  75 03                    	JNE	LPOUT3		;brif last byte out was CR (eat LF) 
 00AD                           LPOUT2: 
 00AD  E8 00D5 R                	CALL	LPROUT		;output the character 
 00B0                           LPOUT3: 
 00B0  58                       	POP	AX		;restore [AL]=char which was output 
 00B1  80 65 02 FE              	AND	BYTE PTR _LPFLG[DI],LOW OFFSET 255D-_LPCRF	;reset last byte out was CR flag 
 00B5  3C 0D                    	CMP	AL,LOW OFFSET ASCCR 
 00B7  75 1B                    	JNE	LPOUTX		;return if wasn't carriage return 
 00B9  80 4D 02 01              	OR	BYTE PTR _LPFLG[DI],LOW OFFSET _LPCRF	;set last byte out was CR flag 
 00BD  0B F6                    	OR	SI,SI 
 00BF  74 0C                    	JZ	OUTLF		;branch if Pseudo FDB (LLIST/LPRINT) 
 00C1  80 7C 35 FF              	CMP	BYTE PTR F_WID[SI],LOW 255D 
 00C5  75 06                    	JNE	OUTLF		;output LF if width is not 255 
 00C7  80 7C 06 04              	CMP	BYTE PTR F_MODE[SI],LOW OFFSET MD_RND 
 00CB  74 07                    	JE	LPOUTX		;suppress LF following CRs 
 00CD                           OUTLF: 
 00CD  50                       	PUSH	AX 
 00CE  B0 0A                    	MOV	AL,LOW OFFSET ASCLF 
 00D0  E8 00D5 R                	CALL	LPROUT 
 00D3  58                       	POP	AX 
 00D4                           LPOUTX: 
 00D4  C3                       	RET 
                                 
                                ;Raw Line Printer Output routine 
                                ; Entry - [AL]=byte to be sent to current line printer 
                                ;         [AH]=device id (0..n) 
                                ; Exit  - Flags used, All other registers preserved. 
                                ; 
                                	EXTRN	SNDLPT:NEAR,ERROR:NEAR,ERRDNA:NEAR,ERRDTO:NEAR,ERROTP:NEAR 
                                	EXTRN	ERRDIO:NEAR 
 00D5                           LPROUT: 
 00D5  50                       	PUSH	AX 
 00D6  E8 0000 E                	CALL	SNDLPT		;Call OEM routine to output to printer 
 00D9  0A E4                    	OR	AH,AH 
 00DB  75 02                    	JNE	LPERR		;branch if OEM routine detected error 
 00DD  58                       	POP	AX 
 00DE  C3                       	RET 
 00DF                           LPERR: 
 00DF  8A C4                    	MOV	AL,AH 
 00E1  32 E4                    	XOR	AH,AH		;[AX]=error code 1..n 
 00E3  48                       	DEC	AX		;[AX]=error code 0..n 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-18
Line Printer Primitive I/O Routines                         

 00E4  BF 00F5 R                	MOV	DI,OFFSET LPERRT 
 00E7  03 F8                    	ADD	DI,AX		;[DI] points to BASIC Error code 
 00E9  2E: 8A 15                	MOV	DL,BYTE PTR CS:0[DI] 
 00EC  3C 03                    	CMP	AL,LOW 3 
 00EE  72 02                    	JB	ERROR1		;branch if legal error code 
 00F0  B2 00 E                  	MOV	DL,LOW OFFSET ERRDIO	;map all other error codes to I/O error 
 00F2  E9 0000 E                ERROR1:	JMP	ERROR 
                                 
 00F5  00 E                     LPERRT:	DB	OFFSET ERRDNA 
 00F6  00 E                     	DB	OFFSET ERRDTO 
 00F7  00 E                     	DB	OFFSET ERROTP 
                                 
                                ;LPOS(X) function 
                                ; 
                                	PUBLIC	LPOS 
                                	EXTRN	SNGFLT:NEAR,CONINT:NEAR 
 00F8  53                       LPOS:	PUSH	BX 
 00F9  E8 0000 E                	CALL	CONINT		;Force FAC to byte integer in AL 
 00FC  98                       	CBW 
 00FD  0B C0                    	OR	AX,AX		;Test for LPT number 0 to map to 1 
 00FF  74 03                    	JZ	LPTN0		;n = 0, so map to 1 
 0101  48                       	DEC	AX 
 0102  D1 E8                    	SHR	AX,1		;Offset to correct DCB 
 0104  BB 0001 E                LPTN0:	MOV	BX,OFFSET LP1DCB+_LPPOS	;Get address of LPOS in first LPT DCB 
 0107  03 D8                    	ADD	BX,AX		;Get address of LPOS in current LPT DCB 
 0109  8A 07                    	MOV	AL,BYTE PTR 0[BX]	;[AL]=current 0 relative position 
 010B  FE C0                    	INC	AL		;return 1 relative number 
 010D  5B                       	POP	BX 
 010E  E9 0000 E                	JMP	SNGFLT		;return result to user 
                                 
                                ;LPTGPS - return current file position. 
                                ; Entry - SI points to File-Data-Block. 
                                ; Exit  - [AH] = current file column. (0-relative) 
                                ;         All other registers preserved 
                                ; 
 0111  E8 0120 R                LPTGPS:	CALL	GLPDCB		;DI points to device control block 
 0114  8A 65 01                 	MOV	AH,BYTE PTR _LPPOS[DI] 
 0117  C3                       	RET 
                                 
                                ;LPTGWD - get device width 
                                ; Entry - DI = -2*device id 
                                ; Exit  - [AH] = device width as set by xxxSWD 
                                ;         All other registers preserved 
                                ; 
 0118  E8 0120 R                LPTGWD:	CALL	GLPDCB		;DI points to device control block 
 011B  8A 25                    	MOV	AH,BYTE PTR _LPWID[DI] 
 011D  C3                       	RET 
                                 
                                ;LPTSCW - set device comma width 
                                ; Entry - [BX] = new device comma width 
                                ;         DI = -2*device id 
                                ; Exit  - SI, DI can be changed. 
                                ;         All other registers preserved 
                                ; 
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodePage     1-19
Line Printer Primitive I/O Routines                         

 011E  C3                       LPTSCW:	RET 
                                 
                                ;LPTGCW - get device comma width 
                                ; Entry - DI = -2*device id 
                                ; Exit  - [BX] = device comma width as set by xxxSCW 
                                ;         All other registers preserved 
                                ; 
 011F  C3                       LPTGCW:	RET 
                                 
                                ;GLPDCB - get pointer to line printer device control block 
                                ; Entry - [DI] = -2*device id (2,4,..n) 
                                ; Exit  - DI points to the device control block for device DI. 
                                ;         [AX] = 0..n for LPT1, LPT2, ... 
                                ; 
                                ;************************************************************************ 
                                ;* Note: IF LPT DCB size changes from 4, this routine should be changed * 
                                ;************************************************************************ 
                                ; 
 0120                           GLPDCB: 
 0120  B8 FF00 E                	MOV	AX,OFFSET ($_LPT1-400O)	;[AX]=-device id for LPT1 
 0123  D1 E0                    	SHL	AX,1		;[AX]=-2*device id for LPT1 
 0125  03 C7                    	ADD	AX,DI		;[AX]=0, 2, ... for LPT1, LPT2, ... 
 0127  8B F8                    	MOV	DI,AX		;[DI]=0, 2, ... for LPT1, LPT2, ... 
 0129  D1 E7                    	SHL	DI,1		;[DI]=0, 4, ... for LPT1, LPT2, ... 
 012B  D1 E8                    	SHR	AX,1		;[AX]=0, 1, ... for LPT1, LPT2, ... 
 012D  81 C7 0000 E             	ADD	DI,OFFSET LP1DCB	;[DI] points to LPTx device ctl block 
 0131  C3                       	RET 
                                ; 
 0132                           CSEG	ENDS 
                                	END 

Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-1
                                                             

Macros:

		N a m e			Lines

ACRLF  . . . . . . . . . . . . .  	   2
ADR  . . . . . . . . . . . . . .  	   1
CALLOS . . . . . . . . . . . . .  	   4
CHRGET . . . . . . . . . . . . .  	   1
COMPAR . . . . . . . . . . . . .  	   2
DBGBRK . . . . . . . . . . . . .  	   1
DC . . . . . . . . . . . . . . .  	   6
DJNZ . . . . . . . . . . . . . .  	   2
FSIGN  . . . . . . . . . . . . .  	   1
GETYPE . . . . . . . . . . . . .  	   1
INS86  . . . . . . . . . . . . .  	  13
INST . . . . . . . . . . . . . .  	   1
LDDR . . . . . . . . . . . . . .  	   8
LDIR . . . . . . . . . . . . . .  	   8
MOVRI  . . . . . . . . . . . . .  	   6
OUTCHR . . . . . . . . . . . . .  	   1
POPR . . . . . . . . . . . . . .  	   2
PUSHM  . . . . . . . . . . . . .  	   5
PUSHR  . . . . . . . . . . . . .  	   2
ROFFST . . . . . . . . . . . . .  	   2
SYNCHK . . . . . . . . . . . . .  	   2

Segments and Groups:

                N a m e         	Size	Align	Combine Class

CSEG . . . . . . . . . . . . . .  	0132	PARA	PUBLIC	'CODESG'
DSEG . . . . . . . . . . . . . .  	0000	PARA	PUBLIC	'DATASG'

Symbols:            

                N a m e         	Type	Value	Attr         

ALTAIR . . . . . . . . . . . . .  	Number	0000	
ANSI . . . . . . . . . . . . . .  	Number	0001	
ASCBS  . . . . . . . . . . . . .  	Number	0008	
ASCCR  . . . . . . . . . . . . .  	Number	000D	
ASCCTC . . . . . . . . . . . . .  	Number	0003	
ASCCTS . . . . . . . . . . . . .  	Number	0013	
ASCCTZ . . . . . . . . . . . . .  	Number	001A	
ASCESC . . . . . . . . . . . . .  	Number	001B	
ASCLF  . . . . . . . . . . . . .  	Number	000A	
ASCSPC . . . . . . . . . . . . .  	Number	0020	
ASCTAB . . . . . . . . . . . . .  	Number	0009	

BASDEB . . . . . . . . . . . . .  	Number	0000	
BEEPSW . . . . . . . . . . . . .  	Number	0001	
BINCSW . . . . . . . . . . . . .  	Number	0000	
BINFID . . . . . . . . . . . . .  	Number	00FF	
BLODSW . . . . . . . . . . . . .  	Number	0001	
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-2
                                                             

BSVFID . . . . . . . . . . . . .  	Number	00FD	
BUFLEN . . . . . . . . . . . . .  	Number	00FF	

CASSW  . . . . . . . . . . . . .  	Number	0000	
CHSEAT . . . . . . . . . . . . .  	Number	0001	
CLMWID . . . . . . . . . . . . .  	Number	000E	
CMPUTN . . . . . . . . . . . . .  	Number	0000	
COMMNT . . . . . . . . . . . . .  	Number	0000	
CONINT . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
CONSSW . . . . . . . . . . . . .  	Number	0001	
CONTO  . . . . . . . . . . . . .  	Number	000F	
CONTRO . . . . . . . . . . . . .  	Number	0001	
CPM  . . . . . . . . . . . . . .  	Number	0001	
CPM110 . . . . . . . . . . . . .  	Number	0000	
CPM2 . . . . . . . . . . . . . .  	Number	0001	
CPM86  . . . . . . . . . . . . .  	Number	0000	
CPMA75 . . . . . . . . . . . . .  	Number	0000	
CPMADD . . . . . . . . . . . . .  	Number	0000	
CPMCON . . . . . . . . . . . . .  	Number	0000	
CPMLIF . . . . . . . . . . . . .  	Number	0000	
CPMMDS . . . . . . . . . . . . .  	Number	0000	
CPMPER . . . . . . . . . . . . .  	Number	0000	
CPMRSH . . . . . . . . . . . . .  	Number	0000	
CPMSBC . . . . . . . . . . . . .  	Number	0000	
CPMSER . . . . . . . . . . . . .  	Number	0000	
CRIFEL . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
CRONLY . . . . . . . . . . . . .  	Number	0000	
C_BUFF . . . . . . . . . . . . .  	Number	001A	
C_CLOS . . . . . . . . . . . . .  	Number	0010	
C_DCIO . . . . . . . . . . . . .  	Number	0006	
C_DELE . . . . . . . . . . . . .  	Number	0013	
C_GDRV . . . . . . . . . . . . .  	Number	0019	
C_MAKE . . . . . . . . . . . . .  	Number	0016	
C_OPEN . . . . . . . . . . . . .  	Number	000F	
C_PARS . . . . . . . . . . . . .  	Number	0029	
C_PRTO . . . . . . . . . . . . .  	Number	0005	
C_RBR  . . . . . . . . . . . . .  	Number	0027	
C_READ . . . . . . . . . . . . .  	Number	0014	
C_RENA . . . . . . . . . . . . .  	Number	0017	
C_REST . . . . . . . . . . . . .  	Number	000D	
C_RNDR . . . . . . . . . . . . .  	Number	0021	
C_RNDW . . . . . . . . . . . . .  	Number	0022	
C_SDRV . . . . . . . . . . . . .  	Number	000E	
C_SEAR . . . . . . . . . . . . .  	Number	0011	

DATOFS . . . . . . . . . . . . .  	Number	0039	
DATPSC . . . . . . . . . . . . .  	Number	0080	
DBLCHR . . . . . . . . . . . . .  	Number	0000	
DBLTRN . . . . . . . . . . . . .  	Number	0000	
DEBUG  . . . . . . . . . . . . .  	Text  		
DERBFM . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
DERIFN . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
DEVBIN . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
DEVBOT . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-3
                                                             

DISK . . . . . . . . . . . . . .  	Number	0001	
DMC  . . . . . . . . . . . . . .  	Number	0000	
DOS  . . . . . . . . . . . . . .  	Number	0000	
DRVPOS . . . . . . . . . . . . .  	Number	0000	
DUPONT . . . . . . . . . . . . .  	Number	0000	
DYNCOM . . . . . . . . . . . . .  	Number	0001	

EDIT80 . . . . . . . . . . . . .  	Number	0000	
ERRDIO . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
ERRDNA . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
ERRDTO . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
ERROR  . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
ERROR1 . . . . . . . . . . . . .  	L NEAR	00F2	CSEG
ERROTP . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
ESCCTL . . . . . . . . . . . . .  	Number	0000	
EXIDY  . . . . . . . . . . . . .  	Number	0000	

FAST . . . . . . . . . . . . . .  	Number	0001	
FCBSIZ . . . . . . . . . . . . .  	Number	0026	
FCB_DT . . . . . . . . . . . . .  	Number	001D	
FCB_DV . . . . . . . . . . . . .  	Number	0007	
FCB_EX . . . . . . . . . . . . .  	Number	0013	
FCB_FN . . . . . . . . . . . . .  	Number	0008	
FCB_FS . . . . . . . . . . . . .  	Number	0017	
FCB_FT . . . . . . . . . . . . .  	Number	0010	
FCB_NR . . . . . . . . . . . . .  	Number	0027	
FCB_RC . . . . . . . . . . . . .  	Number	0015	
FCB_RN . . . . . . . . . . . . .  	Number	0028	
FC_ASC . . . . . . . . . . . . .  	Number	0000	
FC_BIN . . . . . . . . . . . . .  	Number	0001	
FDBSIZ . . . . . . . . . . . . .  	Number	0039	
FD_DAT . . . . . . . . . . . . .  	Number	00C2	
FD_LOG . . . . . . . . . . . . .  	Number	00BD	
FD_OPS . . . . . . . . . . . . .  	Number	00C0	
FD_PHY . . . . . . . . . . . . .  	Number	00BB	
FD_SIZ . . . . . . . . . . . . .  	Number	00B9	
FILOPT . . . . . . . . . . . . .  	V WORD 	0000	DSEG	External
FIVDSK . . . . . . . . . . . . .  	Number	0001	
FIVEO  . . . . . . . . . . . . .  	Number	0001	
FIVLPT . . . . . . . . . . . . .  	Number	0001	
FIVMEM . . . . . . . . . . . . .  	Number	0001	
FKEYON . . . . . . . . . . . . .  	Number	0001	
FL_BKC . . . . . . . . . . . . .  	Number	0080	
FNAML  . . . . . . . . . . . . .  	Number	000B	
F_BAKC . . . . . . . . . . . . .  	Number	0032	
F_BREM . . . . . . . . . . . . .  	Number	0030	
F_CLOC . . . . . . . . . . . . .  	Number	002D	
F_CODE . . . . . . . . . . . . .  	Number	0031	
F_DEV  . . . . . . . . . . . . .  	Number	0034	
F_FCB  . . . . . . . . . . . . .  	Number	0007	
F_FLGS . . . . . . . . . . . . .  	Number	0037	
F_MODE . . . . . . . . . . . . .  	Number	0006	
F_NEXT . . . . . . . . . . . . .  	Number	0004	
F_NUL1 . . . . . . . . . . . . .  	Number	0000	
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-4
                                                             

F_NUL2 . . . . . . . . . . . . .  	Number	0002	
F_NUL3 . . . . . . . . . . . . .  	Number	0033	
F_NUL4 . . . . . . . . . . . . .  	Number	0036	
F_NUL5 . . . . . . . . . . . . .  	Number	00BF	
F_NUM  . . . . . . . . . . . . .  	Number	0001	
F_ORCT . . . . . . . . . . . . .  	Number	002F	
F_POS  . . . . . . . . . . . . .  	Number	0038	
F_WID  . . . . . . . . . . . . .  	Number	0035	

GENBIN . . . . . . . . . . . . .  	Number	0001	
GENDSK . . . . . . . . . . . . .  	Number	0000	
GENIO  . . . . . . . . . . . . .  	Number	0001	
GESBC  . . . . . . . . . . . . .  	Number	0000	
GIO86  . . . . . . . . . . . . .  	Number	0001	
GLPDCB . . . . . . . . . . . . .  	L NEAR	0120	CSEG
GW . . . . . . . . . . . . . . .  	Number	0001	
GWCASS . . . . . . . . . . . . .  	Number	0000	
GWDBUG . . . . . . . . . . . . .  	Number	0000	
G_BIN  . . . . . . . . . . . . .  	Number	001A	
G_BOT  . . . . . . . . . . . . .  	Number	001C	
G_CLS  . . . . . . . . . . . . .  	Number	0006	
G_EOF  . . . . . . . . . . . . .  	Number	0000	
G_GCW  . . . . . . . . . . . . .  	Number	0018	
G_GPS  . . . . . . . . . . . . .  	Number	0012	
G_GWD  . . . . . . . . . . . . .  	Number	0014	
G_LOC  . . . . . . . . . . . . .  	Number	0002	
G_LOF  . . . . . . . . . . . . .  	Number	0004	
G_OPN  . . . . . . . . . . . . .  	Number	000C	
G_RND  . . . . . . . . . . . . .  	Number	000A	
G_SCW  . . . . . . . . . . . . .  	Number	0016	
G_SIN  . . . . . . . . . . . . .  	Number	000E	
G_SOT  . . . . . . . . . . . . .  	Number	0010	
G_SWD  . . . . . . . . . . . . .  	Number	0008	

HEATH  . . . . . . . . . . . . .  	Number	0000	
HEXOCT . . . . . . . . . . . . .  	Number	0001	
HGHBIT . . . . . . . . . . . . .  	Number	0001	

I8086  . . . . . . . . . . . . .  	Number	0001	
I8251  . . . . . . . . . . . . .  	Number	0000	
IBMLIK . . . . . . . . . . . . .  	Number	0001	
IBMTOK . . . . . . . . . . . . .  	Number	0001	
IFNERR . . . . . . . . . . . . .  	L NEAR	0072	CSEG
INIFDB . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
INKEYF . . . . . . . . . . . . .  	Number	0001	
INLADD . . . . . . . . . . . . .  	Number	0000	
INSTSW . . . . . . . . . . . . .  	Number	0000	
INTEL  . . . . . . . . . . . . .  	Number	0000	
INTFHW . . . . . . . . . . . . .  	Number	0000	
INTFSW . . . . . . . . . . . . .  	Number	0000	
INTLEC . . . . . . . . . . . . .  	Number	0000	
INTROM . . . . . . . . . . . . .  	Number	0000	
ISC  . . . . . . . . . . . . . .  	Number	0000	
ISIS . . . . . . . . . . . . . .  	Number	0000	
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-5
                                                             


JISKTN . . . . . . . . . . . . .  	Number	0000	

KANABS . . . . . . . . . . . . .  	Number	0000	
KANJFN . . . . . . . . . . . . .  	Number	0000	
KEYSTA . . . . . . . . . . . . .  	Number	0000	
KILLER . . . . . . . . . . . . .  	Number	0000	

LABKEY . . . . . . . . . . . . .  	Number	0001	
LEN2 . . . . . . . . . . . . . .  	Number	0001	
LEN3 . . . . . . . . . . . . . .  	Number	0001	
LENGTH . . . . . . . . . . . . .  	Number	0002	
LINLN  . . . . . . . . . . . . .  	Number	0050	
LISTEN . . . . . . . . . . . . .  	Number	0001	
LNGVAR . . . . . . . . . . . . .  	Number	0001	
LOKHED . . . . . . . . . . . . .  	Number	0000	
LONGI  . . . . . . . . . . . . .  	Number	0000	
LP1DCB . . . . . . . . . . . . .  	V WORD 	0000	DSEG	External
LPERR  . . . . . . . . . . . . .  	L NEAR	00DF	CSEG
LPERRT . . . . . . . . . . . . .  	L NEAR	00F5	CSEG
LPOS . . . . . . . . . . . . . .  	L NEAR	00F8	CSEG	Global
LPOUT1 . . . . . . . . . . . . .  	L NEAR	009F	CSEG
LPOUT2 . . . . . . . . . . . . .  	L NEAR	00AD	CSEG
LPOUT3 . . . . . . . . . . . . .  	L NEAR	00B0	CSEG
LPOUTX . . . . . . . . . . . . .  	L NEAR	00D4	CSEG
LPROUT . . . . . . . . . . . . .  	L NEAR	00D5	CSEG
LPT3 . . . . . . . . . . . . . .  	Number	0000	
LPTCLS . . . . . . . . . . . . .  	L NEAR	0030	CSEG
LPTDSP . . . . . . . . . . . . .  	L NEAR	0000	CSEG	Global
LPTGCW . . . . . . . . . . . . .  	L NEAR	011F	CSEG
LPTGPS . . . . . . . . . . . . .  	L NEAR	0111	CSEG
LPTGWD . . . . . . . . . . . . .  	L NEAR	0118	CSEG
LPTINI . . . . . . . . . . . . .  	L NEAR	001F	CSEG	Global
LPTLEN . . . . . . . . . . . . .  	Number	0084	
LPTN0  . . . . . . . . . . . . .  	L NEAR	0104	CSEG
LPTOPN . . . . . . . . . . . . .  	L NEAR	0037	CSEG
LPTSCW . . . . . . . . . . . . .  	L NEAR	011E	CSEG
LPTSOT . . . . . . . . . . . . .  	L NEAR	0075	CSEG
LPTSW  . . . . . . . . . . . . .  	Number	0001	
LPTSWD . . . . . . . . . . . . .  	L NEAR	0031	CSEG
LPTTRM . . . . . . . . . . . . .  	L NEAR	001E	CSEG	Global

MDS  . . . . . . . . . . . . . .  	Number	0000	
MDSISS . . . . . . . . . . . . .  	Number	0000	
MD_APP . . . . . . . . . . . . .  	Number	0008	
MD_RND . . . . . . . . . . . . .  	Number	0004	
MD_SQI . . . . . . . . . . . . .  	Number	0001	
MD_SQO . . . . . . . . . . . . .  	Number	0002	
MELCO  . . . . . . . . . . . . .  	Number	0000	
MEMIMG . . . . . . . . . . . . .  	Number	0001	
MOSTEK . . . . . . . . . . . . .  	Number	0000	
MULSEG . . . . . . . . . . . . .  	Number	0001	

NAMLEN . . . . . . . . . . . . .  	Number	0028	
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-6
                                                             

NASCOM . . . . . . . . . . . . .  	Number	0000	
NATROM . . . . . . . . . . . . .  	Number	0000	
NBANKS . . . . . . . . . . . . .  	Number	0001	
NCRBAS . . . . . . . . . . . . .  	Number	0000	
NCRCAS . . . . . . . . . . . . .  	Number	0000	
NCRDEB . . . . . . . . . . . . .  	Number	0000	
NCRELS . . . . . . . . . . . . .  	Number	0000	
NCRLPT . . . . . . . . . . . . .  	Number	0001	
NECBAS . . . . . . . . . . . . .  	Number	0000	
NMCOMT . . . . . . . . . . . . .  	Number	0002	
NMKEYF . . . . . . . . . . . . .  	Number	000A	
NMKEYT . . . . . . . . . . . . .  	Number	000E	
NMLINE . . . . . . . . . . . . .  	Number	0019	
NMLPT  . . . . . . . . . . . . .  	Number	0003	
NMPENT . . . . . . . . . . . . .  	Number	0001	
NMSTRT . . . . . . . . . . . . .  	Number	0004	
NOATDL . . . . . . . . . . . . .  	Number	0000	
NOBIN  . . . . . . . . . . . . .  	L NEAR	0071	CSEG
NOCTLA . . . . . . . . . . . . .  	Number	0000	
NODOT  . . . . . . . . . . . . .  	Number	0000	
NOEDIT . . . . . . . . . . . . .  	Number	0000	
NOIOS  . . . . . . . . . . . . .  	Number	0000	
NONULL . . . . . . . . . . . . .  	Number	0000	
NOOPT  . . . . . . . . . . . . .  	L NEAR	005E	CSEG
NOPEKS . . . . . . . . . . . . .  	Number	0000	
NOROMP . . . . . . . . . . . . .  	Number	0000	
NORUBT . . . . . . . . . . . . .  	Number	0000	
NOTBIN . . . . . . . . . . . . .  	L NEAR	008A	CSEG
NOUSR  . . . . . . . . . . . . .  	Number	0000	
NOVARP . . . . . . . . . . . . .  	Number	0000	
NUMLEV . . . . . . . . . . . . .  	Number	006E	
NUMTMP . . . . . . . . . . . . .  	Number	000A	
NUMTRP . . . . . . . . . . . . .  	Number	0015	

OEMRAM . . . . . . . . . . . . .  	Number	0000	
ONTEL  . . . . . . . . . . . . .  	Number	0000	
OUTLF  . . . . . . . . . . . . .  	L NEAR	00CD	CSEG

PALSIZ . . . . . . . . . . . . .  	Number	0000	
PANBAS . . . . . . . . . . . . .  	Number	0000	
PCS  . . . . . . . . . . . . . .  	Number	0000	
PLAYSW . . . . . . . . . . . . .  	Number	0001	
PROFID . . . . . . . . . . . . .  	Number	00FE	
PSDFDB . . . . . . . . . . . . .  	L NEAR	0096	CSEG
PURE . . . . . . . . . . . . . .  	Number	0001	

QUEUE  . . . . . . . . . . . . .  	Number	0001	

REALIO . . . . . . . . . . . . .  	Number	0001	
RMX  . . . . . . . . . . . . . .  	Number	0000	
RSHACK . . . . . . . . . . . . .  	Number	0000	
RSTLES . . . . . . . . . . . . .  	Number	0001	

SBC  . . . . . . . . . . . . . .  	Number	0000	
Microsoft (R) Macro Assembler  Version 4.00                 2/7/21 10:42:08
 
GIOLPT - Line Printer Machine Independent Device Driver CodeSymbols-7
                                                             

SBC86  . . . . . . . . . . . . .  	Number	0000	
SCDBIN . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
SCP  . . . . . . . . . . . . . .  	Number	0001	
SCRN86 . . . . . . . . . . . . .  	Number	0001	
SCRNIO . . . . . . . . . . . . .  	Number	0001	
SCROLT . . . . . . . . . . . . .  	Number	0001	
SGSATS . . . . . . . . . . . . .  	Number	0000	
SHORTJ . . . . . . . . . . . . .  	Number	0001	
SHTCHN . . . . . . . . . . . . .  	Number	0000	
SHTERR . . . . . . . . . . . . .  	Number	0000	
SHTINS . . . . . . . . . . . . .  	Number	0000	
SHTLHM . . . . . . . . . . . . .  	Number	0000	
SHTLIN . . . . . . . . . . . . .  	Number	0000	
SHTPRO . . . . . . . . . . . . .  	Number	0000	
SHTREN . . . . . . . . . . . . .  	Number	0000	
SIXDIG . . . . . . . . . . . . .  	Number	0000	
SMALL  . . . . . . . . . . . . .  	Number	0000	
SNDLPT . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
SNGFLT . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
SPCDSK . . . . . . . . . . . . .  	Number	0000	
SPCNDS . . . . . . . . . . . . .  	Number	0000	
STRING . . . . . . . . . . . . .  	Number	0001	
STRSIZ . . . . . . . . . . . . .  	Number	0003	
SUPRSH . . . . . . . . . . . . .  	Number	0001	
SWAPSW . . . . . . . . . . . . .  	Number	0001	

TEK  . . . . . . . . . . . . . .  	Number	0000	
TETRA  . . . . . . . . . . . . .  	Number	0000	
TIMSHR . . . . . . . . . . . . .  	Number	0000	
TRNCHR . . . . . . . . . . . . .  	Number	0000	
TRSER2 . . . . . . . . . . . . .  	Number	0000	
TRUANS . . . . . . . . . . . . .  	Number	0000	
TRUROM . . . . . . . . . . . . .  	Number	0001	
TSDISK . . . . . . . . . . . . .  	Number	0000	
TSLPT  . . . . . . . . . . . . .  	Number	0000	

UPDPOS . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External

XTNSYS . . . . . . . . . . . . .  	Number	0000	

Z80  . . . . . . . . . . . . . .  	Number	0001	
Z80MAC . . . . . . . . . . . . .  	Number	0001	
ZENITH . . . . . . . . . . . . .  	Number	0000	

$_LPT1 . . . . . . . . . . . . .  	L NEAR	0000	CSEG	External
_LPCRF . . . . . . . . . . . . .  	Number	0001	
_LPFLG . . . . . . . . . . . . .  	Number	0002	
_LPPOS . . . . . . . . . . . . .  	Number	0001	
_LPWID . . . . . . . . . . . . .  	Number	0000	
_OFFST . . . . . . . . . . . . .  	Number	00C2	


    882 Source  Lines
    965 Total   Lines
    360 Symbols

  39200 Bytes symbol space free

      0 Warning Errors
      0 Severe  Errors
